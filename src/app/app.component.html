<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand js-scroll-trigger"><img src="assets/img/logo.png" alt="CPF agora"></a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav text-uppercase ml-auto">
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#search">Buscar</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#plan">Planos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#doc">Documentação</a>
        </li>
        <li class="nav-item">
          <a class="nav-link js-scroll-trigger" href="#contact">Contato</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Header -->
<header class="masthead" id="search">
  <div class="container">
    <form [formGroup]="searchCpfCnpj" novalidate (ngSubmit)="search(searchCpfCnpj.value)" class="intro-text">
      <div class="intro-lead-in">Pesquise Agora pelo CPF</div>
      <div class="intro-heading text-uppercase input-cpfcnpj">
        <input matInput type="text" formControlName="cpfcnpj" placeholder="CPF/CNPJ">
        <div *ngIf="cpfcnpj.getError('required')" class="error-alert">
          Campo necessário
        </div>
        <div *ngIf="cpfcnpj.getError('minlength')" class="error-alert">
          É necessário mínimo de 8 caracteres
        </div>
      </div>
      <div class="intro-heading text-uppercase input-cpfcnpj">
        <input matInput type="text" formControlName="email" placeholder="E-mail Pessoal">
        <div *ngIf="email.getError('required')" class="error-alert">
          Campo necessario
        </div>
        <div *ngIf="email.getError('email')" class="error-alert">
          Não é um e-mail valido
        </div>
      </div>
      <input type="submit" class="btn btn-primary btn-xl text-uppercase js-scroll-trigger"
        [disabled]="!searchCpfCnpj.valid" value="Consultar">
    </form>
  </div>
</header>

<!-- SEARCH: RESPONSE -->
<section class="bg-light" *ngIf="cpf" id="searchcpf">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">{{ cpf.nome }}</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-4">
        <div class="team-member">
          <h4>CPF</h4>
          <p class="text-muted">{{ cpf.cpf }}</p>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="team-member">
          <h4>Nacimento</h4>
          <p class="text-muted">{{ cpf.nascimento | date:'dd/MM/yyyy' }}</p>
        </div>
      </div>
      <div class="col-sm-4">
        <div class="team-member">
          <h4>Situação na receita</h4>
          <p class="text-muted">{{ (cpf.status == 1) ? 'Regular' : 'Irregular' }}</p>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <p class="large text-muted">
          Esses dados são reais e resgatados em {{ cpf.createdAt | date:'dd/MM/yyyy' }}.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- SEARCH: ERROR -->
<section class="bg-light" id="team" *ngIf="error" id="searcherror">
  <div class="container">
    <div class="row">
      <div class="col-lg-12 text-center">
        <h2 class="section-heading text-uppercase">A consulta não retornou resultado</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <p class="large text-muted">
          {{ error }}
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-md-4">
        <span class="copyright">Copyright &copy; <a href="http://wellingtonsilverio.github.io"
            target="_blank">Wellington Silverio</a> 2019</span>
      </div>
      <div class="col-md-4">
        <ul class="list-inline social-buttons">
          <li class="list-inline-item">
            <a href="#">
              <i class="fab fa-twitter"></i>
            </a>
          </li>
          <li class="list-inline-item">
            <a href="#">
              <i class="fab fa-facebook-f"></i>
            </a>
          </li>
          <li class="list-inline-item">
            <a href="#">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </li>
        </ul>
      </div>
      <div class="col-md-4">
        <ul class="list-inline quicklinks">
          <li class="list-inline-item">
            <a href="#">Privacy Policy</a>
          </li>
          <li class="list-inline-item">
            <a href="#">Terms of Use</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>

<router-outlet></router-outlet>